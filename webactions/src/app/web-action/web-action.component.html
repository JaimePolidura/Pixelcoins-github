<div class="web-action-form">
  <h1>{{nombre}}</h1>
  <hr>

  <form (ngSubmit)="onSubmit($event)" [formGroup]="formulario">
    <div class="error-msg" *ngIf="($error | async) != ''">
      <span style="text-align: center; color: red"><h4>× {{$error | async}} ×</h4></span>
      <br>
    </div>

    <div *ngFor="let campoFormulario of paramsFormulario; let i = index">
      <div *ngIf="camposByNombre.get(campoFormulario)?.desc != ''">
        <label>{{camposByNombre.get(campoFormulario)?.desc}}:</label>
      </div>
      <input type="{{camposByNombre.get(campoFormulario)?.type == 'TEXT' ? 'text' : 'number'}}"
             class="form-control"
             [formControlName]="campoFormulario"
             [ngClass]="{'form-control-disabled': ($loading | async) == true}"
             placeholder="{{splitNombreCamelCaseEnEspacios(campoFormulario)}}"
             autofocus>
      <br>
    </div>

    <br><hr>

    <button type="submit"
            class="btn btn-success webaction-form-button"
            [ngClass]="{'disabled': ($loading | async) == true}">
      <div *ngIf="($loading | async) == false"> ✓ {{getNombreBoton(nombre)}} ✓</div>
      <div *ngIf="($loading | async) == true">
        <div class="spinner-border" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
    </button>

  </form>
</div>
